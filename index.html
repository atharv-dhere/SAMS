<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAMS | Student Academic Monitor System</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6366f1; 
            --accent: #a855f7; 
            --bg: #030712;
            --card-bg: rgba(30, 41, 59, 0.6); 
            --text-main: #f8fafc; 
            --text-dim: #94a3b8;
            --border: rgba(255, 255, 255, 0.1); 
            --success: #10b981; 
            --danger: #ef4444;
        }

        body { 
            font-family: 'Inter', sans-serif; 
            background: var(--bg); 
            color: var(--text-main); 
            margin: 0; 
            display: flex; 
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Animated Background */
        .bg-glow {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at 20% 30%, #1e1b4b 0%, transparent 40%),
                        radial-gradient(circle at 80% 70%, #2e1065 0%, transparent 40%);
            z-index: -1;
            animation: pulseBg 15s ease-in-out infinite alternate;
        }
        @keyframes pulseBg { 0% { transform: scale(1); } 100% { transform: scale(1.1); } }

        .hidden { display: none !important; }

        /* Login Screen - Glassmorphism */
        #login-container { 
            width: 100vw; height: 100vh; 
            display: flex; justify-content: center; align-items: center; 
            position: fixed; z-index: 1000;
        }

        .login-box {
            background: var(--card-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            padding: 3.5rem 2.5rem;
            border-radius: 32px;
            border: 1px solid var(--border);
            width: 380px;
            text-align: center;
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5);
        }

        .academic-icon {
            width: 60px; height: 60px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: 16px;
            display: flex; align-items: center; justify-content: center;
            margin: 0 auto 1.5rem;
            font-size: 1.8rem;
            box-shadow: 0 10px 20px rgba(99, 102, 241, 0.3);
        }

        .login-box h1 { 
            letter-spacing: 6px; font-size: 2.5rem; font-weight: 800; margin: 0; 
            background: linear-gradient(to bottom, #fff, #94a3b8);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }

        /* Input Styles */
        .input-group { position: relative; margin: 12px 0; }
        input { 
            width: 100%; padding: 14px; background: rgba(15, 23, 42, 0.7); 
            border: 1px solid var(--border); border-radius: 12px; 
            color: white; outline: none; transition: 0.3s; box-sizing: border-box;
        }
        input:focus { border-color: var(--primary); box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.2); }
        
        .pass-toggle {
            position: absolute; right: 15px; top: 50%; transform: translateY(-50%);
            cursor: pointer; font-size: 0.7rem; color: var(--primary); font-weight: bold;
        }

        button { 
            width: 100%; padding: 14px; border-radius: 12px; cursor: pointer; 
            font-weight: 600; transition: 0.3s; border: none;
        }

        .btn-primary { 
            background: linear-gradient(135deg, var(--primary), var(--accent)); color: white;
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
        }
        .btn-primary:hover { transform: translateY(-2px); filter: brightness(1.1); }

        /* Dashboard Layout */
        #main-dashboard { display: grid; grid-template-columns: 280px 1fr; width: 100%; }
        .sidebar { background: rgba(15, 23, 42, 0.9); border-right: 1px solid var(--border); padding: 2rem; display: flex; flex-direction: column; height: 100vh; position: sticky; top: 0; }
        .main-content { padding: 2rem; overflow-y: auto; }
        
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 1.5rem; }
        .card { 
            background: var(--card-bg); padding: 1.5rem; border-radius: 20px; 
            border: 1px solid var(--border); backdrop-filter: blur(10px);
        }

        h2 { font-size: 0.75rem; color: var(--accent); text-transform: uppercase; letter-spacing: 2px; margin-bottom: 1.2rem; }
        .timer-display { font-size: 3rem; font-weight: 800; text-align: center; margin: 15px 0; font-family: monospace; color: var(--success); text-shadow: 0 0 20px rgba(16, 185, 129, 0.3); }
        .attendance-card { background: rgba(15, 23, 42, 0.5); padding: 18px; border-radius: 15px; border: 1px solid var(--border); transition: 0.3s; }
        .attendance-card:hover { border-color: var(--primary); }
        .list-item { background: rgba(15, 23, 42, 0.5); padding: 12px; border-radius: 10px; margin-bottom: 8px; display: flex; justify-content: space-between; align-items: center; border-left: 4px solid var(--primary); }
    </style>
</head>
<body>

    <div class="bg-glow"></div>

    <div id="login-container">
        <div class="login-box">
            <div class="academic-icon">üéì</div>
            <h1>SAMS</h1>
            <p style="color: var(--text-dim); margin-bottom: 2rem; font-size: 0.8rem; letter-spacing: 1px;">STUDENT ACADEMIC MONITOR</p>
            
            <div class="input-group">
                <input type="text" id="username" placeholder="Username">
            </div>
            <div class="input-group">
                <input type="password" id="password" placeholder="Password">
                <span class="pass-toggle" onclick="togglePass()">SHOW</span>
            </div>
            
            <button class="btn-primary" onclick="login()">Enter System</button>
            <p id="login-error" style="color: var(--danger); font-size: 0.8rem; margin-top: 15px;"></p>
            
            <div style="margin-top: 2.5rem; border-top: 1px solid var(--border); padding-top: 1.5rem;">
                <p id="quote" style="color: var(--text-dim); font-size: 0.75rem; font-style: italic; margin-bottom: 1rem;"></p>
                <p style="color: var(--text-dim); font-size: 0.65rem; opacity: 0.5;">Developed by Atharv Dhere X Gemini</p>
            </div>
        </div>
    </div>

    <div id="main-dashboard" class="hidden">
        <aside class="sidebar">
            <h1 id="user-display" style="font-size: 1.5rem; margin-bottom: 5px; color: white;">User</h1>
            <p style="color: var(--primary); font-size: 0.7rem; font-weight: 800; margin-bottom: 2rem; letter-spacing: 1px;">SAMS PRO v3.5</p>
            
            <div class="card" style="margin-bottom: 1rem; padding: 1rem;">
                <h2>‚è± Focus</h2>
                <div class="timer-display" id="timer">25:00</div>
                <div style="display:flex; gap:8px;">
                    <button onclick="startTimer()" style="background: var(--success); color: white; padding: 10px;">Start</button>
                    <button onclick="resetTimer()" style="background: var(--danger); color: white; padding: 10px;">Reset</button>
                </div>
            </div>

            <div class="card" style="padding: 1rem;">
                <h2>üîó Links</h2>
                <button onclick="window.open('https://cas.mitwpu.edu.in/')" style="background:rgba(255,255,255,0.05); color:white; margin-bottom:8px; font-size:0.8rem; text-align: left;">MIT-WPU CAS</button>
                <button onclick="window.open('https://chatgpt.com')" style="background:rgba(255,255,255,0.05); color:white; font-size:0.8rem; text-align: left;">AI Research</button>
            </div>

            <button onclick="logout()" style="background:none; border:1px solid var(--danger); color:var(--danger); margin-top:auto;">Logout</button>
        </aside>

        <main class="main-content">
            <div class="grid">
                <div class="card" style="grid-column: 1 / -1;">
                    <h2>üìà Attendance Tracker (80% Goal)</h2>
                    <div id="attendance-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 15px;"></div>
                </div>

                <div class="card">
                    <h2>üí∞ Finance</h2>
                    <input type="text" id="exp-name" placeholder="Expense Item">
                    <input type="number" id="exp-amt" placeholder="Amount (‚Çπ)" style="margin-top:8px;">
                    <button class="btn-primary" onclick="addExpense()" style="margin-top:12px; padding: 10px;">Add Entry</button>
                    <div id="expense-list" style="margin-top:20px;"></div>
                </div>

                <div class="card">
                    <h2>‚úÖ Task Board</h2>
                    <input type="text" id="todo-input" placeholder="What needs to be done?">
                    <button class="btn-primary" onclick="addTask()" style="margin-top:12px; padding: 10px;">Create Task</button>
                    <div id="todo-list" style="margin-top:20px;"></div>
                </div>

                <div class="card" style="grid-column: 1 / -1;">
                    <h2>üìö Subject Workload</h2>
                    <div id="subject-workload-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 15px;"></div>
                </div>
            </div>
        </main>
    </div>

    <script>
        const users = {
            "Atharv Dhere": ["1262250205", "1262250204"],
            "Aryan Lole": "1262253709",
            "Pavan Dhulipala": "1262252556",
            "Shubham Rathor": "1262252788",
            "Aditya Desai": "1262252456"
        };

        const subjects = ["Engineering Mechanics", "Electrical & Electronics Engineering", "Engineering Chemistry", "AI for Everyone", "Foundation of Peace", "Indian Knowledge System", "Integral Calculus"];
        const quotes = ["\"Success is the sum of small efforts repeated daily.\"", "\"Don't stop until you're proud.\"", "\"Focus on progress, not perfection.\"", "\"Your future is created by what you do today.\""];
        
        let timerInterval, timeLeft = 1500;

        // Init UI
        document.getElementById('quote').innerText = quotes[Math.floor(Math.random()*quotes.length)];

        function togglePass() {
            const p = document.getElementById('password');
            p.type = p.type === 'password' ? 'text' : 'password';
        }

        function login() {
            const u = document.getElementById('username').value;
            const p = document.getElementById('password').value;
            const auth = Array.isArray(users[u]) ? users[u].includes(p) : users[u] === p;

            if(auth) {
                document.getElementById('login-container').classList.add('hidden');
                document.getElementById('main-dashboard').classList.remove('hidden');
                document.getElementById('user-display').innerText = u;
                initDashboard();
            } else {
                document.getElementById('login-error').innerText = "Invalid Credentials";
            }
        }

        function logout() { location.reload(); }

        function initDashboard() {
            const attGrid = document.getElementById('attendance-grid');
            const workGrid = document.getElementById('subject-workload-grid');
            attGrid.innerHTML = ''; workGrid.innerHTML = '';

            subjects.forEach(sub => {
                const id = sub.replace(/\s/g,'');
                attGrid.innerHTML += `
                    <div class="attendance-card">
                        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:12px;">
                            <b style="font-size:0.85rem;">${sub}</b>
                            <span id="perc-${id}" style="color:var(--primary); font-weight:800; font-size:1.1rem;">0%</span>
                        </div>
                        <div style="font-size:0.75rem; color:var(--text-dim); margin-bottom:12px;">
                            Present: <span id="pres-${id}" style="color:white">0</span> | Total: <span id="tot-${id}" style="color:white">0</span>
                        </div>
                        <div id="stat-${id}" style="font-size:0.7rem; margin-bottom:15px; font-weight:bold; letter-spacing:0.5px;">No record found</div>
                        <div style="display:grid; grid-template-columns: 1fr 1fr 40px; gap:8px;">
                            <button onclick="updateAtt('${sub}', true)" style="background:var(--success); color:white; font-size:0.65rem; padding:8px;">PRESENT</button>
                            <button onclick="updateAtt('${sub}', false)" style="background:var(--danger); color:white; font-size:0.65rem; padding:8px;">ABSENT</button>
                            <button onclick="resetAtt('${sub}')" style="background:rgba(255,255,255,0.1); color:white; padding:8px;">‚Ü∫</button>
                        </div>
                    </div>`;

                workGrid.innerHTML += `
                    <div class="attendance-card">
                        <b style="font-size:0.8rem; color:var(--accent);">${sub}</b>
                        <input id="in-work-${id}" placeholder="Task details..." style="font-size:0.75rem; margin-top:10px;">
                        <button class="btn-primary" onclick="addWork('${sub}')" style="margin-top:8px; padding:6px; font-size:0.7rem;">ADD TASK</button>
                        <div id="list-work-${id}" style="margin-top:12px;"></div>
                    </div>`;
            });
        }

        function updateAtt(sub, isPresent) {
            const id = sub.replace(/\s/g,'');
            let p = parseInt(document.getElementById(`pres-${id}`).innerText);
            let t = parseInt(document.getElementById(`tot-${id}`).innerText);
            isPresent ? p++ : null; t++;
            const perc = ((p/t)*100).toFixed(1);
            document.getElementById(`pres-${id}`).innerText = p;
            document.getElementById(`tot-${id}`).innerText = t;
            document.getElementById(`perc-${id}`).innerText = perc + "%";
            const status = document.getElementById(`stat-${id}`);
            if(perc < 80) {
                const needed = Math.ceil((0.8 * t - p) / 0.2);
                status.innerText = `‚ö†Ô∏è NEED ${needed} CLASSES`;
                status.style.color = "var(--danger)";
            } else {
                const canSkip = Math.floor((p / 0.8) - t);
                status.innerText = canSkip > 0 ? `‚úÖ CAN SKIP ${canSkip} CLASSES` : "üéØ AT LIMIT";
                status.style.color = "var(--success)";
            }
        }

        function resetAtt(sub) {
            const id = sub.replace(/\s/g,'');
            document.getElementById(`pres-${id}`).innerText="0"; 
            document.getElementById(`tot-${id}`).innerText="0";
            document.getElementById(`perc-${id}`).innerText="0%"; 
            document.getElementById(`stat-${id}`).innerText="No record found";
            document.getElementById(`stat-${id}`).style.color = "var(--text-dim)";
        }

        function addWork(sub) {
            const id = sub.replace(/\s/g,''); 
            const val = document.getElementById(`in-work-${id}`).value;
            if(!val) return;
            const div = document.createElement('div'); div.className = 'list-item';
            div.innerHTML = `<span>${val}</span><span onclick="this.parentElement.remove()" style="cursor:pointer; color:var(--danger)">√ó</span>`;
            document.getElementById(`list-work-${id}`).appendChild(div);
            document.getElementById(`in-work-${id}`).value = '';
        }

        function addExpense() {
            const n = document.getElementById('exp-name').value; 
            const a = document.getElementById('exp-amt').value;
            if(!n || !a) return;
            const div = document.createElement('div'); div.className = 'list-item';
            div.innerHTML = `<span>${n}</span><b style="color:var(--success)">‚Çπ${a}</b>`;
            document.getElementById('expense-list').prepend(div);
            document.getElementById('exp-name').value = ''; 
            document.getElementById('exp-amt').value = '';
        }

        function addTask() {
            const v = document.getElementById('todo-input').value;
            if(!v) return;
            const div = document.createElement('div'); div.className = 'list-item';
            div.innerHTML = `<span>${v}</span><span onclick="this.parentElement.remove()" style="cursor:pointer; color:var(--danger)">√ó</span>`;
            document.getElementById('todo-list').prepend(div);
            document.getElementById('todo-input').value = '';
        }

        function startTimer() {
            if(timerInterval) return;
            timerInterval = setInterval(() => {
                timeLeft--; updateTimerDisplay();
                if(timeLeft <= 0) { clearInterval(timerInterval); alert("Session Complete!"); resetTimer(); }
            }, 1000);
        }
        function resetTimer() { clearInterval(timerInterval); timerInterval = null; timeLeft = 1500; updateTimerDisplay(); }
        function updateTimerDisplay() {
            const m = Math.floor(timeLeft/60), s = timeLeft%60;
            document.getElementById('timer').innerText = `${m}:${s<10?'0'+s:s}`;
        }
    </script>
</body>
</html>
