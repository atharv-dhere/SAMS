<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAMS | Student Academic Monitor System</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6366f1; --accent: #a855f7; --bg: #030712;
            --card-bg: rgba(30, 41, 59, 0.6); --text-main: #f8fafc; --text-dim: #94a3b8;
            --border: rgba(255, 255, 255, 0.1); --success: #10b981; --danger: #ef4444; --warning: #f59e0b;
        }

        body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text-main); margin: 0; display: flex; min-height: 100vh; overflow-x: hidden; }
        .bg-glow { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle at 20% 30%, #1e1b4b 0%, transparent 40%), radial-gradient(circle at 80% 70%, #2e1065 0%, transparent 40%); z-index: -1; animation: pulseBg 15s ease-in-out infinite alternate; }
        @keyframes pulseBg { 0% { transform: scale(1); } 100% { transform: scale(1.1); } }
        .hidden { display: none !important; }

        /* --- LOGIN SCREEN --- */
        #login-container { width: 100vw; height: 100vh; display: flex; justify-content: center; align-items: center; position: fixed; z-index: 1000; }
        .login-box { background: var(--card-bg); backdrop-filter: blur(25px); padding: 3.5rem 2.5rem; border-radius: 32px; border: 1px solid var(--border); width: 380px; text-align: center; box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5); }
        .academic-icon { width: 60px; height: 60px; background: linear-gradient(135deg, var(--primary), var(--accent)); border-radius: 16px; display: flex; align-items: center; justify-content: center; margin: 0 auto 1.5rem; font-size: 1.8rem; box-shadow: 0 10px 20px rgba(99, 102, 241, 0.3); }
        .login-box h1 { letter-spacing: 8px; font-size: 2.5rem; font-weight: 800; margin: 0; background: linear-gradient(to bottom, #fff, #94a3b8); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .input-group { position: relative; margin: 12px 0; }
        input { width: 100%; padding: 14px; background: rgba(15, 23, 42, 0.7); border: 1px solid var(--border); border-radius: 12px; color: white; outline: none; transition: 0.3s; box-sizing: border-box; }
        .pass-toggle { position: absolute; right: 15px; top: 50%; transform: translateY(-50%); cursor: pointer; font-size: 0.7rem; color: var(--primary); font-weight: bold; }
        button { width: 100%; padding: 14px; border-radius: 12px; cursor: pointer; font-weight: 600; transition: 0.3s; border: none; }
        .btn-primary { background: linear-gradient(135deg, var(--primary), var(--accent)); color: white; box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3); }

        .login-footer { margin-top: 2.5rem; border-top: 1px solid var(--border); padding-top: 1.5rem; }
        .dev-text { font-size: 0.65rem; color: var(--text-dim); letter-spacing: 1px; margin-bottom: 8px; opacity: 0.8; }
        .dev-highlight { color: var(--primary); font-weight: 800; }
        .login-quote { font-size: 0.75rem; color: var(--text-main); font-style: italic; opacity: 0.9; line-height: 1.4; padding: 0 10px; }

        /* --- DASHBOARD --- */
        #main-dashboard { display: grid; grid-template-columns: 300px 1fr; width: 100%; }
        .sidebar { background: rgba(15, 23, 42, 0.95); border-right: 1px solid var(--border); padding: 1.5rem; display: flex; flex-direction: column; height: 100vh; position: sticky; top: 0; overflow-y: auto; gap: 10px; }
        .main-content { padding: 2rem; overflow-y: auto; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 1.5rem; }
        .card { background: var(--card-bg); padding: 1.5rem; border-radius: 20px; border: 1px solid var(--border); backdrop-filter: blur(10px); margin-bottom: 1.5rem; }
        h2 { font-size: 0.7rem; color: var(--accent); text-transform: uppercase; letter-spacing: 2.5px; margin-bottom: 1.2rem; font-weight: 800; }

        /* --- SIDEBAR ACCORDION --- */
        .accordion { border: 1px solid var(--border); border-radius: 12px; overflow: hidden; background: rgba(255,255,255,0.03); transition: 0.3s; }
        .acc-btn { width: 100%; padding: 14px; background: none; color: var(--text-main); text-align: left; font-size: 0.8rem; font-weight: 600; display: flex; justify-content: space-between; align-items: center; border: none; cursor: pointer; border-radius: 0; }
        .acc-btn:hover { background: rgba(255,255,255,0.05); }
        .acc-content { max-height: 0; overflow: hidden; transition: max-height 0.4s ease-out; background: rgba(0,0,0,0.2); }
        .acc-content.show { max-height: 300px; padding-bottom: 10px; }
        .acc-inner { padding: 0 14px 10px 14px; font-size: 0.75rem; color: var(--text-dim); }

        /* --- TIMETABLE --- */
        .tt-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1rem; margin-bottom: 2rem; }
        .tt-day { background: rgba(22, 25, 48, 0.5); border: 1px solid var(--border); padding: 1.5rem; border-radius: 24px; min-height: 200px; }
        .tt-day.active-day { border: 2px solid var(--accent); background: rgba(45, 27, 105, 0.4); }
        .tt-day h3 { font-size: 1.1rem; margin-top: 0; margin-bottom: 1.5rem; color: #fff; font-weight: 600; }
        .tt-slot { margin-bottom: 1rem; }
        .tt-time { font-size: 0.75rem; color: var(--text-dim); display: block; margin-bottom: 2px; }
        .tt-subject { font-size: 0.85rem; font-weight: 500; color: #fff; }

        /* --- BUTTONS --- */
        .res-btn { background: rgba(255, 255, 255, 0.05); color: var(--text-main); text-align: left; padding: 10px 14px; margin-bottom: 8px; font-size: 0.8rem; border: 1px solid var(--border); display: flex; align-items: center; gap: 10px; transition: 0.2s; cursor: pointer; border-radius: 10px; width: 100%; box-sizing: border-box; }
        .res-btn:hover { background: rgba(99, 102, 241, 0.1); border-color: var(--primary); transform: translateX(5px); }

        /* --- COMPONENTS --- */
        .attendance-card { background: rgba(15, 23, 42, 0.4); padding: 1.2rem; border-radius: 18px; border: 1px solid var(--border); }
        .progress-container { width: 100%; height: 6px; background: rgba(255,255,255,0.05); border-radius: 10px; margin: 12px 0; }
        .progress-bar { height: 100%; width: 0%; transition: 0.6s cubic-bezier(0.4, 0, 0.2, 1); border-radius: 10px; }
        .list-item { background: rgba(15, 23, 42, 0.4); padding: 12px; border-radius: 10px; margin-bottom: 8px; display: flex; justify-content: space-between; align-items: center; border-left: 4px solid var(--primary); font-size: 0.85rem; }
    </style>
</head>
<body>

    <div class="bg-glow"></div>

    <div id="login-container">
        <div class="login-box">
            <div class="academic-icon">ðŸŽ“</div>
            <h1>SAMS</h1>
            <p style="color: var(--text-dim); margin-bottom: 2rem; font-size: 0.75rem; letter-spacing: 2px;">STUDENT ACADEMIC MONITOR</p>
            <div class="input-group"><input type="text" id="username" placeholder="Username"></div>
            <div class="input-group">
                <input type="password" id="password" placeholder="Password">
                <span class="pass-toggle" onclick="togglePass()">SHOW</span>
            </div>
            <button class="btn-primary" onclick="login()">Enter System</button>
            <p id="login-error" style="color: var(--danger); font-size: 0.8rem; margin-top: 15px;"></p>

            <div class="login-footer">
                <p class="dev-text">DEVELOPED BY <span class="dev-highlight">ATHARV DHERE X EVRY</span></p>
                <p id="login-quote" class="login-quote"></p>
            </div>
        </div>
    </div>

    <div id="main-dashboard" class="hidden">
        <aside class="sidebar">
            
            <div class="accordion">
                <button class="acc-btn" onclick="toggleAccordion(this)">
                    <span>IDENTITY</span>
                    <span style="font-size:0.6rem">â–¼</span>
                </button>
                <div class="acc-content show">
                    <div class="acc-inner">
                        <h1 id="user-display" style="font-size: 1.3rem; margin: 0 0 5px 0; color: white;">User</h1>
                        <p style="color: var(--primary); font-size: 0.6rem; font-weight: 800; margin: 0; letter-spacing: 2px;">FY MECH ROBO â€¢ SEM II</p>
                    </div>
                </div>
            </div>

            <div class="accordion">
                <button class="acc-btn" onclick="toggleAccordion(this)">
                    <span>TIMELINE</span>
                    <span style="font-size:0.6rem">â–¼</span>
                </button>
                <div class="acc-content">
                    <div class="acc-inner">
                        <div style="line-height: 1.6;">
                            â€¢ Sem 2 starts: <b>5th Jan 26</b><br>
                            â€¢ Mid-Term: <b>9th-20th Mar</b><br>
                            â€¢ End Term: <b>14th May-15th Jun</b>
                        </div>
                    </div>
                </div>
            </div>

            <div class="accordion">
                <button class="acc-btn" onclick="toggleAccordion(this)">
                    <span>RESOURCES</span>
                    <span style="font-size:0.6rem">â–¼</span>
                </button>
                <div class="acc-content">
                    <div class="acc-inner" style="padding-top:10px">
                        <button class="res-btn" onclick="window.open('https://cas.mitwpu.edu.in/')">MIT-WPU CAS</button>
                        <button class="res-btn" onclick="window.open('https://chatgpt.com')">AI Research</button>
                        <button class="res-btn" onclick="window.open('https://www.youtube.com')">YouTube</button>
                        <button class="res-btn" onclick="window.open('https://mitwpu.edu.in/life-wpu/library')">Digital Library</button>
                    </div>
                </div>
            </div>

            <button onclick="logout()" style="background:var(--danger); color:white; font-size: 0.75rem; font-weight: 800; padding: 12px; border-radius: 12px; border:none; cursor:pointer; margin-top: auto;">LOGOUT SYSTEM</button>
        </aside>

        <main class="main-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                <h2 style="margin: 0;">Academic Schedule</h2>
                <span id="days-remaining" style="font-size: 0.7rem; color: var(--warning); font-weight: 800;"></span>
            </div>

            <div class="tt-grid">
                <div class="tt-day" id="day-1"><h3>Mon</h3><div class="tt-slot"><span class="tt-time">08:30</span><span class="tt-subject">EMT (T)</span></div><div class="tt-slot"><span class="tt-time">09:30</span><span class="tt-subject">CIV (P)</span></div></div>
                <div class="tt-day" id="day-2"><h3>Tue</h3><div class="tt-slot"><span class="tt-time">08:30</span><span class="tt-subject">ECE (T)</span></div><div class="tt-slot"><span class="tt-time">09:30</span><span class="tt-subject">EMT (T)</span></div><div class="tt-slot"><span class="tt-time">10:45</span><span class="tt-subject">MEC (P)</span></div></div>
                <div class="tt-day" id="day-3"><h3>Wed</h3><div class="tt-slot"><span class="tt-time">08:30</span><span class="tt-subject">YOG (P)</span></div><div class="tt-slot"><span class="tt-time">09:30</span><span class="tt-subject">EMT (T)</span></div><div class="tt-slot"><span class="tt-time">10:45</span><span class="tt-subject">ECE (T)</span></div></div>
                <div class="tt-day" id="day-4"><h3>Thu</h3><div class="tt-slot"><span class="tt-time">08:30</span><span class="tt-subject">CIV (T)</span></div><div class="tt-slot"><span class="tt-time">09:30</span><span class="tt-subject">CHM (P)</span></div></div>
                <div class="tt-day" id="day-5"><h3>Fri</h3><div class="tt-slot"><span class="tt-time">09:30</span><span class="tt-subject">EMT (T)</span></div><div class="tt-slot"><span class="tt-time">10:45</span><span class="tt-subject">CIV (T)</span></div><div class="tt-slot"><span class="tt-time">11:45</span><span class="tt-subject">ECE (P)</span></div></div>
            </div>

            <div class="grid">
                <div class="card" style="grid-column: 1 / -1;">
                    <h2>Attendance tracker</h2>
                    <div id="attendance-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 15px;"></div>
                </div>

                <div class="card">
                    <h2>Subject notes</h2>
                    <div id="subject-notes-container"></div>
                </div>

                <div class="card">
                    <h2>Finance & Tasks</h2>
                    <input type="text" id="todo-input" placeholder="New Task...">
                    <button class="btn-primary" onclick="addTask()" style="margin: 10px 0;">Add Task</button>
                    <div id="todo-list" style="margin-bottom: 2rem;"></div>
                    
                    <input type="number" id="exp-amt" placeholder="Expense Amount (â‚¹)">
                    <button class="btn-primary" onclick="addExpense()" style="margin-top: 10px;">Log Expense</button>
                    <div id="expense-list" style="margin-top: 15px;"></div>
                </div>
            </div>
        </main>
    </div>

    <script>
        const users = { 
            "Atharv Dhere": ["1262250205", "1262250204"], 
            "Aryan Lole": "1262253709", 
            "Pavan Dhulipala": "1262252556", 
            "Shubham Rathor": "1262252788", 
            "Aditya Desai": "1262252456",
            "Anshaj Mishra": "1262251082",
            "Harshit Kulthe": "1272251187",
			"Parth Dandnaik": "1262251050", 
            "Aditya Srivastava": "1262250553"
        };
        const subjects = ["Engineering Mechanics", "Electrical & Electronics", "Engineering Chemistry", "AI for Everyone", "Foundation of Peace", "Integral Calculus"];
        const quotes = ["The secret of getting ahead is getting started.", "Don't stop until you're proud.", "Success is the sum of small efforts repeated daily.", "Your future is created by what you do today.", "Focus on being productive instead of busy."];
        const SEM_END_DATE = new Date("2026-05-09");

        let currentUser = "";

        window.onload = () => { document.getElementById('login-quote').innerText = `"${quotes[Math.floor(Math.random() * quotes.length)]}"`; };

        function togglePass() { const p = document.getElementById('password'); p.type = p.type === 'password' ? 'text' : 'password'; }
        
        function toggleAccordion(btn) {
            const content = btn.nextElementSibling;
            content.classList.toggle('show');
        }

        function login() {
            const u = document.getElementById('username').value, p = document.getElementById('password').value;
            if(users[u] && (Array.isArray(users[u]) ? users[u].includes(p) : users[u] === p)) {
                currentUser = u;
                document.getElementById('login-container').classList.add('hidden');
                document.getElementById('main-dashboard').classList.remove('hidden');
                document.getElementById('user-display').innerText = u;
                initDashboard(); loadData(); updateRemainingDays();
            } else { document.getElementById('login-error').innerText = "Access Denied"; }
        }

        function updateRemainingDays() {
            const diff = SEM_END_DATE - new Date();
            const days = Math.ceil(diff / (1000 * 60 * 60 * 24));
            document.getElementById('days-remaining').innerText = days > 0 ? `${days} DAYS UNTIL MAY 9` : "TERM ENDED";
        }

        function initDashboard() {
            const attGrid = document.getElementById('attendance-grid'), noteGrid = document.getElementById('subject-notes-container');
            attGrid.innerHTML = ''; noteGrid.innerHTML = '';
            subjects.forEach(sub => {
                const id = sub.replace(/\s/g,'');
                attGrid.innerHTML += `<div class="attendance-card"><div style="display:flex; justify-content:space-between; align-items:center;"><b style="font-size:0.85rem;">${sub}</b><span id="perc-${id}" style="font-weight:800; color:var(--primary);">0%</span></div><div class="progress-container"><div id="bar-${id}" class="progress-bar" style="background:var(--primary)"></div></div><div style="font-size:0.7rem; color:var(--text-dim); margin-bottom:12px;">P: <span id="pres-${id}">0</span> | T: <span id="tot-${id}">0</span></div><div id="stat-${id}" style="font-size:0.65rem; font-weight:800; margin-bottom:15px;">-</div><div style="display:grid; grid-template-columns: 1fr 1fr 40px; gap:6px;"><button onclick="updateAtt('${sub}', true)" style="background:var(--success); color:white; font-size:0.6rem; padding:8px;">PRESENT</button><button onclick="updateAtt('${sub}', false)" style="background:var(--danger); color:white; font-size:0.6rem; padding:8px;">ABSENT</button><button onclick="resetAtt('${sub}')" style="background:rgba(255,255,255,0.1); padding:8px;">â†º</button></div></div>`;
                noteGrid.innerHTML += `<div style="margin-bottom:1.5rem;"><label style="font-size:0.7rem; color:var(--accent); font-weight:800; display:block; margin-bottom:5px;">${sub}</label><div style="display:flex; gap:5px;"><input id="note-in-${id}" placeholder="Type note..." style="padding:8px; font-size:0.8rem;"><button onclick="addNote('${sub}')" style="background:var(--primary); width:auto; padding:0 15px; font-size:0.7rem;">SAVE</button></div><div id="note-list-${id}" style="margin-top:10px;"></div></div>`;
            });
            const d = new Date().getDay(); if(d >=1 && d<=5) document.getElementById(`day-${d}`).classList.add('active-day');
        }

        function updateAtt(sub, isP, silent=false) {
            if (new Date() > SEM_END_DATE && !silent) { alert("Instructional period ended (May 9). Attendance is locked."); return; }
            const id = sub.replace(/\s/g,'');
            let p = parseInt(document.getElementById(`pres-${id}`).innerText), t = parseInt(document.getElementById(`tot-${id}`).innerText);
            if(!silent) { if(isP) p++; t++; }
            const perc = t>0 ? ((p/t)*100).toFixed(1) : 0;
            document.getElementById(`pres-${id}`).innerText = p; document.getElementById(`tot-${id}`).innerText = t;
            document.getElementById(`perc-${id}`).innerText = perc + "%";
            const bar = document.getElementById(`bar-${id}`), stat = document.getElementById(`stat-${id}`);
            bar.style.width = perc + "%";
            if(perc < 80) { const n = Math.ceil((0.8*t - p)/0.2); stat.innerText = `NEED ${n} CLASSES`; stat.style.color = "var(--danger)"; bar.style.background="var(--danger)"; }
            else { const s = Math.floor(p/0.8 - t); stat.innerText = s>0 ? `CAN SKIP ${s}` : "SAFE"; stat.style.color = "var(--success)"; bar.style.background="var(--success)"; }
            if(!silent) saveData();
        }

        function addNote(sub) {
            const id = sub.replace(/\s/g,''), val = document.getElementById(`note-in-${id}`).value; if(!val) return;
            const div = document.createElement('div'); div.className = 'list-item';
            div.innerHTML = `<span>${val}</span><span onclick="this.parentElement.remove(); saveData();" style="cursor:pointer; color:var(--danger)">Ã—</span>`;
            document.getElementById(`note-list-${id}`).prepend(div); document.getElementById(`note-in-${id}`).value = ''; saveData();
        }

        function saveData() {
            const data = { attendance: {}, notes: {}, tasks: document.getElementById('todo-list').innerHTML, expenses: document.getElementById('expense-list').innerHTML };
            subjects.forEach(sub => {
                const id = sub.replace(/\s/g,'');
                data.attendance[id] = { p: document.getElementById(`pres-${id}`).innerText, t: document.getElementById(`tot-${id}`).innerText };
                data.notes[id] = document.getElementById(`note-list-${id}`).innerHTML;
            });
            localStorage.setItem(`sams_final_v45_${currentUser}`, JSON.stringify(data));
        }

        function loadData() {
            const saved = localStorage.getItem(`sams_final_v45_${currentUser}`); if(!saved) return;
            const data = JSON.parse(saved);
            Object.keys(data.attendance).forEach(id => {
                if(document.getElementById(`pres-${id}`)) {
                    document.getElementById(`pres-${id}`).innerText = data.attendance[id].p;
                    document.getElementById(`tot-${id}`).innerText = data.attendance[id].t;
                    updateAtt(id, false, true);
                    if(data.notes[id]) document.getElementById(`note-list-${id}`).innerHTML = data.notes[id];
                }
            });
            document.getElementById('todo-list').innerHTML = data.tasks || "";
            document.getElementById('expense-list').innerHTML = data.expenses || "";
        }

        function addTask() { 
            const v = document.getElementById('todo-input').value; if(!v) return;
            const d = document.createElement('div'); d.className = 'list-item';
            d.innerHTML = `<span>${v}</span><span onclick="this.parentElement.remove(); saveData();" style="cursor:pointer; color:var(--danger)">Ã—</span>`;
            document.getElementById('todo-list').prepend(d); document.getElementById('todo-input').value = ''; saveData();
        }

        function addExpense() { 
            const v = document.getElementById('exp-amt').value; if(!v) return;
            const d = document.createElement('div'); d.className = 'list-item';
            d.innerHTML = `<span>Logged Expense</span><b>â‚¹${v}</b>`;
            document.getElementById('expense-list').prepend(d); document.getElementById('exp-amt').value = ''; saveData();
        }

        function logout() { location.reload(); }
        function resetAtt(sub) { const id = sub.replace(/\s/g,''); document.getElementById(`pres-${id}`).innerText="0"; document.getElementById(`tot-${id}`).innerText="0"; updateAtt(sub, false, true); saveData(); }
    </script>
</body>
</html>
